function deepExtend(e){var i=/#{\s*?_\s*?}/,r=Array.prototype.slice;return _.each(r.call(arguments,1),function(r){for(var n in r)if(_.isUndefined(e[n])||_.isFunction(e[n])||_.isNull(r[n])||_.isDate(r[n]))e[n]=r[n];else if(_.isString(r[n])&&i.test(r[n]))_.isString(e[n])&&(e[n]=r[n].replace(i,e[n]));else if(_.isArray(e[n])||_.isArray(r[n])){if(!_.isArray(e[n])||!_.isArray(r[n]))throw new Error("Trying to combine an array with a non-array ("+n+")");e[n]=_.reject(_.deepExtend(_.clone(e[n]),r[n]),function(e){return _.isNull(e)})}else if(_.isObject(e[n])||_.isObject(r[n])){if(!_.isObject(e[n])||!_.isObject(r[n]))throw new Error("Trying to combine an object with a non-object ("+n+")");e[n]=_.deepExtend(_.clone(e[n]),r[n])}else e[n]=r[n]}),e}_.mixin({deepExtend:deepExtend});