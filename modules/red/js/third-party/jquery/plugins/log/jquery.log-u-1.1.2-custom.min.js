!function(e){function o(o){try{var n=e(o).parents().map(function(){return this.tagName+(this.id?"#"+this.id:"")}).get().reverse().join(" ");n&&e(o)[0].nodeName&&(n+=" "+e(o)[0].nodeName);var r=e(o).attr("id");r&&(n+="#"+r);var t=e(o).attr("class");t&&(n+="."+e.trim(t).replace(/\s/gi,"."))}catch(l){}return n||null}function n(e,o){if(e){var n=r(new Date),t="["+o+"]     ";t=t.slice(0,7),e=n+(o&&o!=g.log_type?" - "+t+" ":" - ")+e}return e||""}function r(e){for(var o=[e.getHours(),e.getMinutes(),e.getSeconds()],n=0;3>n;n++)o[n]=t(o[n],2);return o.join(":")+"."+t(e.getMilliseconds(),3)}function t(e,o){for(var n=e.toString();n.length<o;)n="0"+n;return n}function l(e){var o=Array.prototype.slice.call(arguments,1),n=0;return e.replace(/(%s|%d)/g,function(){return o[n++]})}function s(o,n){if(g.send_enabled)try{var r="string"==typeof n?n:n.length?n[0]:n;if(g.send_fn&&r){if("object"==typeof r){var t=n[0];r="object"==typeof t&&t.message&&t.name?{message:i(t)}:{message:a(t)}}else"string"==typeof r&&(r={message:"[message="+("string"!=typeof n?l.apply(this,n):r)+"]"});r.logLevel=o;var s=new Date;if(r.info={logTs:s.getTime(),logTime:c(s)},g.session_start_time&&g.session_start_time.getMonth){var u=r.info.logTs-g.session_start_time.getTime();r.info.sessionTime=SumoUtil?u+"|"+SumoUtil.formatMillis(u,!0):u}else r.info.sessionTime="-1";r.info=a(e.extend(r.info||{},_buildClientInfo())),g.send_fn(r)}else e&&e.logLocal&&e.logLocal("Unable to send log message due to no sendFn defined: %s",r&&r.message?r.message:r)}catch(_){e&&e.logLocal&&e.logLocal("log-u _send error: "+_)}}function a(o){var n=_.map(o,function(o,n,r){return"error"===n&&"object"==typeof o&&o.message&&o.name?e.logFormatError(o):"["+n+"="+o+"]"},this);return n.join(" ")}function i(e){var o=printStackTrace({e:e}).join("\n"),n="[errorName="+e.name+"] [errorMessage="+e.message+"]";return n+=" [stack="+o+"]"}function c(e){e=e||new Date;var o=e.getMonth()+1,n=e.getDate(),r=e.getHours(),t=e.getMinutes(),l=e.getSeconds(),s=e.getMilliseconds(),a=e.getTimezoneOffset(),i=a/60*-1,c=a%60;return e.getFullYear()+"-"+(10>o?"0":"")+o+"-"+(10>n?"0":"")+n+" "+(10>r?"0":"")+r+":"+(10>t?"0":"")+t+":"+(10>l?"0":"")+l+"."+(100>s?"0":10>s?"00":"")+s+" "+(i+(10>c?"0"+c:c))}if(!window.__logu||!window.__logu.log){window.__logu=this,window.console||(console={}),window.console&&"object"==typeof console.log&&e.each(["log","info","warn","error","assert","dir","clear","profile","profileEnd"],function(o,n){console[n]=e.proxy(console[n],console)});var g={error_type:"ERROR",warn_type:"WARN",info_type:"INFO",userAction_type:"USER",telemetryError_type:"ERROR_CRITICAL_TELEMETRY",telemetryWarn_type:"WARN_CRITICAL_TELEMETRY",telemetryInfo_type:"INFO_CRITICAL_TELEMETRY",telemetryUser_type:"USER_CRITICAL_TELEMETRY",log_type:"LOG",send_log_level:3,console_log_level:3,send_fn:null,send_enabled:!0,session_start_time:0,native_error:!0,hijack_console:!0,client_info:{location:!0,screen_size:!1,user_agent:!1,window_size:!0}},u=console.error,f=console.warn,p=console.info,m=console.log;e.logu=function(o){if(g=e.extend(g,o||{}),g.hijack_console)try{console.error=e.logError,console.warn=e.logWarn,console.info=e.logInfo,console.log=e.log}catch(n){console.error("log-u: "+n)}else try{console.error=u,console.warn=f,console.info=p,console.log=m}catch(n){console.error("log-u: "+n)}},e.logGetConsoleLevel=function(){return g.console_log_level},e.logSetConsoleLevel=function(e){g.console_log_level=e},e.logGetSendLevel=function(){return g.send_log_level},e.logSetSendLevel=function(e){g.send_log_level=e},e.isDebugEnabled=function(){return g.console_log_level>3||g.send_log_level>3},e.logSendEnable=function(e){g.send_enabled=e},e.setLoggingSendFn=function(e){g.send_fn=e},e.logSetSessionStartTime=function(e){g.session_start_time=e},e.logGetSessionStartTime=function(){return g.session_start_time},e.logError=function(o){g.send_log_level>=1&&s(g.error_type,arguments),e.logErrorLocal.apply(this,arguments)},e.logTelemetryError=function(o){g.send_log_level>=1&&s(g.telemetryError_type,arguments),e.logErrorLocal.apply(this,arguments)},e.logErrorLocal=function(e){g.console_log_level>=1&&g.hijack_console&&u&&u.apply&&(arguments[0]=n(arguments[0],g.error_type),u.apply(console,arguments))};try{console.error=e.logError}catch(y){console.error("log-u: "+y)}e.logWarn=function(o){g.send_log_level>=2&&s(g.warn_type,arguments),e.logWarnLocal.apply(this,arguments)},e.logTelemetryWarn=function(o){g.send_log_level>=2&&s(g.telemetryWarn_type,arguments),e.logWarnLocal.apply(this,arguments)},e.logWarnLocal=function(e){g.console_log_level>=2&&g.hijack_console&&f&&f.apply&&f.apply(console,arguments)};try{console.warn=e.logWarn}catch(y){console.error("log-u: "+y)}e.logInfo=function(o){g.send_log_level>=3&&s(g.info_type,arguments),e.logInfoLocal.apply(this,arguments)},e.logTelemetryInfo=function(o){g.send_log_level>=3&&s(g.telemetryInfo_type,arguments),e.logInfoLocal.apply(this,arguments)},e.logInfoLocal=function(e){g.console_log_level>=3&&g.hijack_console&&p&&p.apply&&(arguments[0]=n(arguments[0],g.info_type),p.apply(console,arguments))};try{console.info=e.logInfo}catch(y){console.error("log-u: "+y)}e.log=function(o){g.send_log_level>=4&&s(g.log_type,arguments),e.logLocal.apply(this,arguments)},e.logLocal=function(e){g.console_log_level>=4&&g.hijack_console&&m&&m.apply&&(arguments[0]=n(arguments[0],g.log_type),m.apply(console,arguments))};try{console.log=e.log}catch(y){console.error("log-u: "+y)}e.logUserAction=function(o){g.send_log_level>=2&&s(g.info_type,arguments),e.logUserActionLocal.apply(this,arguments)},e.logUserTelemetryAction=function(o){g.send_log_level>=2&&s(g.telemetryUser_type,arguments),e.logUserActionLocal.apply(this,arguments)},e.logUserActionLocal=function(e){g.console_log_level>=3&&g.hijack_console&&p&&p.apply&&(arguments[0]=n(arguments[0],g.userAction_type),p.apply(console,arguments))};var d=window.onerror;window.onerror=function(n,r,t){if(g.native_error)try{var l,a=g.error_type;if("object"==typeof n&&"object"==typeof r){var i=n,c=r.errorMessage||"Unable to process onerror parameters :-(",u=i.currentTarget?o(i.currentTarget):"";l="Window error event: "+c+", currentTarget: "+u,a=i.currentTarget==window?g.error_type:g.info_type}else l="Browser error: "+n+", file: "+r+", line: "+t;a==g.error_type&&e&&e.logErrorLocal?e.logErrorLocal(l):a==g.info_type&&e&&e.logInfoLocal&&e.logInfoLocal(l),_.isEmpty(r)||"runtime"==r||s(a,[{message:l,error:n,file:r,line:t}])}catch(f){}if(d){var p;return p=d(n,r,t)}},e.logFormatObject=function(e){return a(e)},e.logFormatError=function(e){return i(e)},e.logFormatDate=function(e){return c(e)},_buildClientInfo=function(){var e={};return g.client_info.user_agent&&(e.userAgent=navigator.userAgent),g.client_info.location&&(e.location=location.protocol+"//"+location.host+location.pathname+location.hash),e};var v;v||(v={}),v.stringify=v.stringify||function(e){var o=typeof e;if("object"!=o||null===e)return"string"==o&&(e='"'+e+'"'),String(e);var n,r,t=[],l=e&&e.constructor==Array;for(n in e)r=e[n],o=typeof r,"string"==o?r='"'+r+'"':"object"==o&&null!==r&&(r=v.stringify(r)),t.push((l?"":'"'+n+'":')+String(r));return(l?"[":"{")+String(t)+(l?"]":"}")}}}(jQuery);