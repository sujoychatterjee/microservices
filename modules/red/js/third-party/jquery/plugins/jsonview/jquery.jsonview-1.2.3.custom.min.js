!function(n){var i,p,s,c;s=function(){function n(n){null==n&&(n={}),this.options=n}return n.prototype.htmlEncode=function(n){return null!==n?n.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},n.prototype.jsString=function(n){return n=JSON.stringify(n).slice(1,-1),this.htmlEncode(n)},n.prototype.decorateWithSpan=function(n,e){return'<span class="'+e+'">'+this.htmlEncode(n)+"</span>"},n.prototype.valueToHTML=function(n,e,t){return null==e&&(e=0),this[Object.prototype.toString.call(n).match(/\s(.+)]/)[1].toLowerCase()+"ToHTML"].call(this,n,e,t)},n.prototype.nullToHTML=function(n){return this.decorateWithSpan("null","null")},n.prototype.numberToHTML=function(n){return this.decorateWithSpan(n,"num")},n.prototype.stringToHTML=function(n,e,t){var a,l;for(var s in a="",n=this.jsString(n),this.options.nl2br&&(l=/([^>\\r\\n]?)(\\r\\n|\\n\\r|\\r|\\n)/g).test(n)&&(a=" multiline",n=(n+"").replace(l,"$1<br />")),t){var o=new RegExp(s,"g");n=n.replace(o,t[s])}return'<span class="string'+a+'">"'+n+'"</span>'},n.prototype.booleanToHTML=function(n){return this.decorateWithSpan(n,"bool")},n.prototype.arrayToHTML=function(n,e,t){var a,l,s,o,r,i,p;for(null==e&&(e=0),a=!1,o="",s=n.length,l=i=0,p=n.length;i<p;l=++i)r=n[l],a=!0,o+='<li class="object-in-array" data-index='+l+">"+this.valueToHTML(r,e+1,t),1<s&&(o+='<span class="comma-sep">,</span>'),o+="</li>",s--;return a?'[<ul class="array level'+e+(0===e?"":" collapsible")+'">'+o+"</ul>]":"[ ]"},n.prototype.objectToHTML=function(n,e,t){var a,l,s,o,r;for(o in null==e&&(e=0),a=!1,s="",l=0,n)l++;for(o in n)r=n[o],a=!0,s+='<li class="obj-container"><span class="prop"><span class="q">"</span><span class="key">'+this.jsString(o)+'</span><span class="q">"</span></span>:<span class="qval">'+this.valueToHTML(r,e+1,t)+"</span>",1<l&&(s+='<span class="comma-sep">,</span>'),s+="</li>",l--;return a?'{<ul class="obj level'+e+(0===e?"":" collapsible")+'">'+s+"</ul>}":"{ }"},n.prototype.jsonToHTML=function(n,e){return'<div class="jsonview">'+this.valueToHTML(n,0,e)+"</div>"},n}(),"undefined"!=typeof module&&null!==module&&(module.exports=s),p=function(){function n(){}return n.bindEvent=function(n,e){var t,a;if((t=document.createElement("div")).className="collapser",t.innerHTML=e.collapsed?e.expand_html:e.collapse_html,t.addEventListener("click",(a=this,function(n){return a.toggle(n.target,e)})),n.insertBefore(t,n.firstChild),e.collapsed)return this.collapse(t,e)},n.expand=function(n,e){var t,a;if(""!==(a=this.collapseTarget(n)).style.display)return t=a.parentNode.getElementsByClassName("ellipsis")[0],a.parentNode.removeChild(t),a.style.display="",i(n).data("expanded",!0),n.innerHTML=e.collapse_html},n.collapse=function(n,e){var t,a;if("none"!==(a=this.collapseTarget(n)).style.display)return a.style.display="none",(t=document.createElement("span")).className="ellipsis",t.innerHTML=" &hellip; ",a.parentNode.insertBefore(t,a),i(n).data("expanded",!1),n.innerHTML=e.expand_html},n.toggle=function(n,e){var t,a,l,s,o;if(null==e&&(e=i(n).parents(".jsonview").data("options")),t="none"===this.collapseTarget(n).style.display?"expand":"collapse",e.recursive_collapser){for(o=[],l=0,s=(a=n.parentNode.getElementsByClassName("collapser")).length;l<s;l++)n=a[l],o.push(this[t](n,e));return o}return this[t](n,e)},n.collapseTarget=function(n){var e;if((e=n.parentNode.getElementsByClassName("collapsible")).length)return e[0]},n}(),c={collapse:function(n){var e=i(n).parents(".jsonview").data("options");if(!1!==i(n).data("expanded"))return p.collapse(n,e)},expand:function(n){var e=i(n).parents(".jsonview").data("options");if(!0!==i(n).data("expanded"))return p.expand(n,e)},toggle:function(n){return p.toggle(n)},highlight:function(n,e,t){try{var a=e.map(function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}),l=new RegExp(a.join("|"),"g")}catch(n){return}var s="";e.forEach(function(n){s+=s?",":"",s+="span.prop:contains('"+n+"'), span.string:contains('"+n+"'), span.bool:contains('"+n+"'), span.null:contains('"+n+"'), span.num:contains('"+n+"')"}),i(n).find(s).each(function(){i(this).html(i(this).html().replace(l,function(n){return'<span class="'+t+'">'+n+"</span>"}))})}},(i=n).fn.JSONView=function(){var t,n,e,a,l,o,r;return null!=c[(t=arguments)[0]]?(l=t[0],this.each(function(){var n,e;return n=i(this),"highlight"===l?c[l](this,t[1],t[2]):null!=t[1]?(e=t[1],n.find(".jsonview .collapsible.level"+e).siblings(".collapser").each(function(){return c[l](this)})):n.find(".jsonview > ul > li .collapsible").siblings(".collapser").each(function(){return c[l](this)})})):(a=t[0],o=t[1]||{},n={collapsed:!1,nl2br:!1,recursive_collapser:!1,expand_html:"+",collapse_html:"-",replacementMap:{}},o=i.extend(n,o),e=new s({nl2br:o.nl2br}),"[object String]"===Object.prototype.toString.call(a)&&(a=JSON.parse(a)),r=e.jsonToHTML(a,o.replacementMap),this.each(function(){var n,e,t,a,l,s;for((n=i(this)).html(r),n.find(".jsonview").data("options",o),s=[],l=(t=n[a=0].getElementsByClassName("collapsible")).length;a<l;a++)"LI"===(e=t[a]).parentNode.nodeName||"qval"===e.parentNode.className?s.push(p.bindEvent(e.parentNode,o)):s.push(void 0);return s}))}}(jQuery);